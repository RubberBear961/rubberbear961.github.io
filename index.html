<!DOCTYPE html>
<html lang="pl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>OhioSerwer</title>

    <!-- Import pliku style.css -->
    <link rel="stylesheet" href="style.css">
</head>
<body>

    <header>
        <h1>Witamy na OhioSerwer</h1>
        <p>Strona Serwerowa!</p>
    </header>

    <main>
        <!-- Sekcja z główkami graczy -->
        <div id="players-heads">
            <h2>Aktywni Gracze</h2>
            <div id="heads-container">
                <!-- Główki graczy będą tu wstawiane przez JavaScript -->
            </div>
        </div>

        <!-- Sekcja serwera Minecraft (widok jak z listy serwerów) -->
        <div id="server-info" class="server-list-item">
            <img src="" alt="Ikona serwera" class="server-icon" id="server-icon">
            <div class="server-details">
                <h3 id="server-name">Ładowanie nazwy serwera...</h3>
                <p id="server-description">Ładowanie opisu serwera...</p>
                <p id="server-players">Ładowanie liczby graczy...</p>
            </div>
        </div>
    </main>

    <footer>
        <p>&copy; 2024 OhioSerwer. Wszelkie prawa zastrzeżone.</p>
    </footer>

    <!-- Skrypt do pobierania danych o serwerze Minecraft -->
    <script>
        const serverIp = 'ohioserwer.enderman.cloud'; // Adres Twojego serwera

        async function fetchServerInfo() {
            try {
                const response = await fetch(`https://api.mcsrvstat.us/2/${serverIp}`);
                const data = await response.json();

                if (data.online) {
                    // Ustaw ikonę serwera (jeśli jest dostępna)
                    document.getElementById('server-icon').src = data.icon ? `data:image/png;base64,${data.icon}` : 'default-icon.png';

                    // Ustaw nazwę serwera
                    document.getElementById('server-name').innerText = data.hostname || serverIp;

                    // Ustaw opis serwera
                    document.getElementById('server-description').innerText = data.motd.clean.join(' ') || 'Brak opisu serwera';

                    // Ustaw liczbę graczy online
                    const playerCount = data.players ? `${data.players.online} / ${data.players.max}` : 'Brak danych o graczach';
                    document.getElementById('server-players').innerText = `Gracze online: ${playerCount}`;
                } else {
                    document.getElementById('server-description').innerText = 'Serwer jest offline';
                }
            } catch (error) {
                console.error('Błąd podczas pobierania danych o serwerze:', error);
                document.getElementById('server-description').innerText = 'Błąd podczas ładowania danych o serwerze';
            }
        }

        // Wywołanie funkcji po załadowaniu strony
        fetchServerInfo();
    </script>

</body>
</html>
